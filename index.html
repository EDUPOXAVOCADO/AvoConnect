<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>AvoConnect | Precios de aguacate & Venta de lotes</title>

  <!-- Secci贸n: Estilos y Fuentes -->
  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <!-- Fuente Inter -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet"/>
  <style>
    :root {
      --ac-green: #3fa34d;
      --ac-dark: #20341d;
      --ac-light: #f7fdfa;
    }
    body { font-family: 'Inter', sans-serif; background: var(--ac-light); color: var(--ac-dark); }

    /* Banner superior */
    .header-banner { height:6px; background: var(--ac-green); }

    /* Encabezado */
    header { background:#fff; padding:2rem 0 1rem; text-align:center; }
    #avocado { font-size:2rem; display:inline-block; vertical-align:middle; transform: translateX(-200px);
      animation: walk 2s ease-out forwards, sway 1s ease-in-out 1 2.5s forwards;
    }
    #site-title { font-size:2.5rem; font-weight:600; margin-left:0.5rem; display:inline-block; vertical-align:middle; }
    @keyframes walk { to { transform: translateX(0); } }
    @keyframes sway {
      0% { transform: translateX(0) rotate(0deg); }
      25% { transform: translateX(0) rotate(15deg); }
      75% { transform: translateX(0) rotate(-15deg); }
      100% { transform: translateX(0) rotate(0deg); }
    }

    /* Botones */
    .btn-ac { background: var(--ac-green); color:#fff; border:none; }
    .btn-ac:hover { background:#2e7e3a; }

    /* Secci贸n: Galer铆a de im谩genes */
    .img-fluid, .gallery img, .card-img-top { width:100%; height:200px; border-radius:8px; object-fit:cover; }

    /* T铆tulos de secci贸n */
    h2 { font-weight:600; margin-top:2rem; }
  </style>
</head>
<body>

  <!-- Secci贸n: Banner superior -->
  <div class="header-banner"></div>

  <!-- Secci贸n: Encabezado -->
  <header>
    <span id="avocado"></span>
    <span id="site-title">AvoConnect</span>
  </header>

  <!-- Secci贸n: Hero -->
  <section class="container text-center py-4">
    <p class="lead mb-4">Compara lo que paga cada empacadora seg煤n gramaje y origen (nacional o exportaci贸n).</p>
    <a class="btn btn-ac btn-lg" href="#">Av铆senme cuando salga</a>
  </section>

  <!-- Secci贸n: Galer铆a de portada -->
  <section class="container gallery my-5">
    <div class="row g-3">
      <div class="col-md-4"><img src="https://via.placeholder.com/600x400?text=Aguacate+Fresco" alt="Aguacate fresco" class="img-fluid"/></div>
      <div class="col-md-4"><img src="https://via.placeholder.com/600x400?text=Corte+de+Aguacate" alt="Corte de aguacate" class="img-fluid"/></div>
      <div class="col-md-4"><img src="https://via.placeholder.com/600x400?text=Productor+Cortando+Aguacate" alt="Productor cortando aguacate" class="img-fluid"/></div>
    </div>
  </section>

  <!-- Secci贸n: Tableros de precios -->
  <section class="container py-4">
    <h2 class="text-center">Tableros de precios</h2>
    <div class="row g-4 my-4">
      <!-- Sub-secci贸n: Por empaque -->
      <div class="col-md-6">
        <div class="card shadow-sm border-0">
          <div class="card-header bg-light"><h5 class="mb-0">Por empaque</h5></div>
          <div class="table-responsive">
            <table class="table mb-0">
              <thead><tr><th>Empacadora</th><th>Precio (MXN/kg)</th><th></th></tr></thead>
              <tbody id="table-empaque"></tbody>
            </table>
          </div>
        </div>
      </div>
      <!-- Sub-secci贸n: Por gramaje -->
      <div class="col-md-6">
        <div class="card shadow-sm border-0">
          <div class="card-header bg-light"><h5 class="mb-0">Por gramaje</h5></div>
          <div class="table-responsive">
            <table class="table mb-0">
              <thead><tr><th>Gramaje (g)</th><th>Precio (MXN)</th><th></th></tr></thead>
              <tbody id="table-gramaje"></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Secci贸n: Recomendaciones -->
  <section class="container border-top py-5">
    <h2 class="text-center">Recomendaciones</h2>
    <div class="row g-4 mt-3">
      <div class="col-md-4">
        <div class="card h-100 shadow-sm text-center">
          <img src="https://via.placeholder.com/600x400?text=Empacadora+Nacional" class="card-img-top" alt="Empacadora Nacional"/>
          <div class="card-body"><h5 class="card-title">Empacadora M茅xico</h5><p class="card-text">Para fruta nacional, certificaci贸n C-123.</p></div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card h-100 shadow-sm text-center">
          <img src="https://via.placeholder.com/600x400?text=Empacadora+Exportaci%C3%B3n" class="card-img-top" alt="Empacadora Exportaci贸n"/>
          <div class="card-body"><h5 class="card-title">ExportaPlus</h5><p class="card-text">Especializada en exportaci贸n.</p></div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card h-100 shadow-sm text-center">
          <img src="https://via.placeholder.com/600x400?text=Org%C3%A1nico" class="card-img-top" alt="Org谩nico"/>
          <div class="card-body"><h5 class="card-title">OrganoAvo</h5><p class="card-text">100% org谩nica, certificada EcoCert.</p></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Secci贸n: Edici贸n de registros -->
  <section id="edit-section" class="container py-5" style="display:none;">
    <h2 class="text-center">Editar registro</h2>
    <form id="edit-form" class="mx-auto" style="max-width:400px;">
      <div id="edit-fields" class="mb-3"></div>
      <button type="submit" class="btn btn-ac">Guardar</button>
      <button type="button" class="btn btn-secondary" id="cancel-btn">Cancelar</button>
    </form>
  </section>

  <!-- Secci贸n: Pie de p谩gina -->
  <footer class="bg-dark text-white text-center py-3"><small>&copy; 2025 AvoConnect 路 Hecho en Uruapan con わ</small></footer>

  <!-- Secci贸n: Scripts y l贸gica -->
  <script>
    const isDirector = true;
    const dataByEmpaque = [ { name: 'Empacadora A', price: 22 }, { name: 'Empacadora B', price: 20 }, { name: 'Empacadora C', price: 18 } ];
    const dataByGramaje = [ { gramos: 50, price: 10 }, { gramos: 70, price: 14 }, { gramos: 100, price: 20 } ];
    
    function renderTables() {
      ['empaque','gramaje'].forEach(mode => {
        const tbody = document.getElementById('table-'+mode);
        tbody.innerHTML = '';
        const arr = mode==='empaque'?dataByEmpaque:dataByGramaje;
        arr.sort((a,b)=>b.price-a.price).forEach((item,i)=>{
          const tr = document.createElement('tr');
          if(mode==='empaque') tr.innerHTML = `<td>${item.name}</td><td>${item.price.toFixed(2)}</td><td>${isDirector?`<button class=\"btn btn-sm btn-primary edit-btn\" data-mode=\"empaque\" data-index=\"${i}\">Editar</button>`:''}</td>`;
          else tr.innerHTML = `<td>${item.gramos}</td><td>${item.price.toFixed(2)}</td><td>${isDirector?`<button class=\"btn btn-sm btn-primary edit-btn\" data-mode=\"gramaje\" data-index=\"${i}\">Editar</button>`:''}</td>`;
          tbody.appendChild(tr);
        });
      });
      attachEditListeners();
    }

    function attachEditListeners() {
      document.querySelectorAll('.edit-btn').forEach(btn => btn.onclick = () => showEditForm(btn.dataset.mode, btn.dataset.index));
    }

    function showEditForm(mode, idx) {
      const sec = document.getElementById('edit-section'), cnt = document.getElementById('edit-fields');
      cnt.innerHTML = '';
      const item = mode==='empaque'?{...dataByEmpaque[idx]}:{...dataByGramaje[idx]};
      if(mode==='empaque') cnt.innerHTML += `<label>Nombre de empacadora</label><input class=\"form-control mb-3\" id=\"edit-name\" value=\"${item.name}\"/>`; else cnt.innerHTML += `<label>Gramaje (g)</label><input class=\"form-control mb-3\" id=\"edit-gramos\" type=\"number\" value=\"${item.gramos}\"/>`;
      cnt.innerHTML += `<label>Precio (MXN)</label><input class=\"form-control mb-3\" id=\"edit-price\" type=\"number\" step=\"0.01\" value=\"${item.price}\"/>`;
      sec.style.display = 'block'; sec.scrollIntoView({ behavior: 'smooth' });

      document.getElementById('edit-form').onsubmit = e => {
        e.preventDefault();
        if(mode==='empaque') dataByEmpaque[idx].name = document.getElementById('edit-name').value;
        else dataByGramaje[idx].gramos = parseFloat(document.getElementById('edit-gramos').value);
        (mode==='empaque'?dataByEmpaque[idx]:dataByGramaje[idx]).price = parseFloat(document.getElementById('edit-price').value);
        sec.style.display = 'none'; renderTables();
      };
      document.getElementById('cancel-btn').onclick = () => sec.style.display = 'none';
    }

    document.addEventListener('DOMContentLoaded', renderTables);
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
